import{f as I,i as N,j as e,a as v,u as b,aH as J,r as h,aI as U,aG as X,aa as Y,aJ as Z,T as c,D as p,K as W,Q as R,E as B,aL as O,aM as z,aN as S,aO as A,aQ as P,b as g,B as j,c as ee,S as _,R as D,bB as te,aR as ae,H as ne,X as se,q as ie,Y as re,a4 as le,a5 as ce,a6 as oe,a7 as L,a8 as s,a9 as de,al as he,am as ue,aU as xe,C as me,P as pe,A as je,bC as ve}from"./index-YWLvuDMY.js";import{I as ge}from"./create-chatbot-dialog-Qv7RiIGZ.js";import{L as be}from"./ListItemAvatar-3NFExoqX.js";import{D as fe}from"./DeleteRounded-0BEuV1pU.js";import"./upload-icon-chatbot-JunygnR9.js";var y={},Ce=N;Object.defineProperty(y,"__esModule",{value:!0});var H=y.default=void 0,Se=Ce(I()),C=e,ye=(0,Se.default)([(0,C.jsx)("circle",{cx:"11",cy:"8",r:"2",opacity:".3"},"0"),(0,C.jsx)("path",{d:"M5 18h4.99L9 17l.93-.94C7.55 16.33 5.2 17.37 5 18z",opacity:".3"},"1"),(0,C.jsx)("path",{d:"M11 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm-1 12H5c.2-.63 2.55-1.67 4.93-1.94h.03l.46-.45L12 14.06c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-2-2zm10.6-5.5-5.13 5.17-2.07-2.08L12 17l3.47 3.5L22 13.91z"},"2")],"HowToRegTwoTone");H=y.default=ye;var T={},Te=N;Object.defineProperty(T,"__esModule",{value:!0});var M=T.default=void 0,ke=Te(I()),w=e,_e=(0,ke.default)([(0,w.jsx)("path",{d:"M6 20h12V10H6v10zm6-7c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z",opacity:".3"},"0"),(0,w.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"},"1")],"LockTwoTone");M=T.default=_e;const De=({data:a})=>{v();const r=b();return e.jsx(J,{disablePadding:!0,children:a.map((i,m)=>e.jsxs(h.Fragment,{children:[e.jsxs(U,{sx:{py:1.5,"&:hover":{backgroundColor:r.palette.mode==="dark"?X(r.palette.neutral[800],.12):"neutral.25"}},secondaryAction:"Bị từ chối: "+i.rejection_count+" lần",children:[e.jsx(be,{sx:{minWidth:38,mr:1},children:e.jsx(Y,{sx:{width:38,height:38},alt:i.partner_name,src:i.avatar})}),e.jsx(Z,{sx:{flexGrow:0,maxWidth:"50%",flexBasis:"50%"},disableTypography:!0,primary:e.jsx(c,{variant:"h6",noWrap:!0,children:i.partner_name}),secondary:e.jsx(ge,{children:e.jsxs(c,{color:"text.secondary",fontWeight:500,children:[i.contact.phone,e.jsx("br",{}),i.contact.email]})})})]}),e.jsx(p,{})]},m))})},Le=()=>{const a=b(),{t:r}=v(),i=W(a.breakpoints.down("sm")),[m,n]=h.useState(!1),u=()=>{n(!0)},l=()=>{n(!1)},f=[{avatar:"https://example.com/avatars/avatar1.png",partner_name:"Nguyen Van A",contact:{phone:"0912345678",email:"nguyenvana@example.com"},rejection_count:3},{avatar:"https://example.com/avatars/avatar2.png",partner_name:"Tran Thi B",contact:{phone:"0987654321",email:"tranthib@example.com"},rejection_count:1},{avatar:"https://example.com/avatars/avatar3.png",partner_name:"Le Minh C",contact:{phone:"0934567890",email:"leminhc@example.com"},rejection_count:2},{avatar:"https://example.com/avatars/avatar4.png",partner_name:"Pham Thi D",contact:{phone:"0976543210",email:"phamthid@example.com"},rejection_count:4},{avatar:"https://example.com/avatars/avatar5.png",partner_name:"Hoang Van E",contact:{phone:"0923456789",email:"hoangvane@example.com"},rejection_count:0}];return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:r("Duyệt tài khoản"),arrow:!0,children:e.jsx(B,{color:"primary",onClick:()=>u(),children:e.jsx(H,{fontSize:"small"})})}),e.jsxs(O,{fullScreen:i,open:m,onClose:l,"aria-labelledby":"basic-dialog-title",maxWidth:"xs",fullWidth:!0,children:[e.jsx(z,{id:"basic-dialog-title",children:"Duyệt đối tác"}),e.jsx(p,{}),e.jsx(S,{fullWidth:!0,variant:"outlined",children:e.jsx(A,{id:"name-input",sx:{".MuiOutlinedInput-notchedOutline":{border:0,borderRadius:0}},hiddenLabel:!0,multiline:!0,minRows:1,maxRows:3,placeholder:"Lý do duyệt"})}),e.jsx(p,{}),e.jsx(De,{data:f}),e.jsx(p,{}),e.jsxs(P,{children:[e.jsx(g,{onClick:l,color:"primary",children:"Từ chối"}),e.jsx(g,{onClick:l,color:"primary",children:"Phê duyệt"})]})]})]})},we=()=>{const a=b(),{t:r}=v(),i=W(a.breakpoints.down("sm")),[m,n]=h.useState(!1),u=()=>{n(!0)},l=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:r("Khóa tài khoản"),arrow:!0,children:e.jsx(B,{color:"error",onClick:()=>u(),children:e.jsx(M,{fontSize:"small"})})}),e.jsxs(O,{fullScreen:i,open:m,onClose:l,"aria-labelledby":"basic-dialog-title",maxWidth:"xs",fullWidth:!0,children:[e.jsx(z,{id:"basic-dialog-title",children:"Khóa tài khoản"}),e.jsx(p,{}),e.jsx(j,{children:e.jsx(S,{fullWidth:!0,variant:"outlined",children:e.jsx(A,{id:"name-input",sx:{".MuiOutlinedInput-notchedOutline":{border:0,borderRadius:0}},hiddenLabel:!0,multiline:!0,minRows:1,maxRows:3,placeholder:"Lý do khóa"})})}),e.jsx(p,{}),e.jsxs(P,{children:[e.jsx(g,{onClick:l,color:"primary",children:"Hủy"}),e.jsx(g,{onClick:l,color:"primary",children:"Khóa"})]})]})]})},E=[{id:"all",name:"Tất cả"},{id:"init",name:"Khởi tạo"},{id:"pending",name:"Chờ duyệt"},{id:"approved",name:"Đã duyệt"},{id:"embedded",name:"Đã nạp"},{id:"locked",name:"Khóa"}],Ie=a=>{const r=E.find(i=>i.id===a);return r?r.name:a},Ne=({partners:a})=>{const{t:r}=v(),[i,m]=h.useState(""),[n,u]=h.useState([]),[l,f]=h.useState({status:"all"}),F=(t,d)=>{const o=n.indexOf(d);let x=[];o===-1?x=x.concat(n,d):o===0?x=x.concat(n.slice(1)):o===n.length-1?x=x.concat(n.slice(0,-1)):o>0&&(x=x.concat(n.slice(0,o),n.slice(o+1))),u(x)},V=t=>{u(t.target.checked?a.map(d=>d.id):[])},$=t=>{let d=t.target.value;f(o=>({...o,status:d}))},k=t=>n.indexOf(t)!==-1,K=n.length>0,q=n.length>0&&n.length<a.length,Q=n.length===a.length,G=a.filter(t=>{const d=l.status==="all"||t.accountStatus===l.status,o=t.name.toLowerCase().includes(i.toLowerCase());return d&&o});return e.jsxs(ee,{children:[e.jsxs(j,{py:2,pl:1,pr:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(_,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(D,{checked:Q,indeterminate:q,onChange:V,disabled:a.length===0}),K?e.jsx(te,{color:"error",variant:"contained",size:"small",startIcon:e.jsx(fe,{}),children:"Delete selected"}):e.jsx(e.Fragment,{children:e.jsxs(j,{children:[e.jsxs(c,{sx:{display:{xs:"none",md:"inline-flex"}},component:"span",variant:"subtitle1",children:[r("Hiển thị"),":"]})," ",e.jsx("b",{children:a.length})," ",e.jsx("b",{children:r("đối tác")})]})})]}),e.jsxs(_,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(S,{size:"small",variant:"outlined",children:e.jsx(ae,{value:l.status,onChange:$,label:"",children:E.map(t=>e.jsx(ne,{value:t.id,children:t.name},t.id))})}),e.jsx(se,{size:"small",placeholder:"Tìm kiếm",value:i,onChange:t=>m(t.target.value),variant:"outlined",InputProps:{startAdornment:e.jsx(ie,{position:"start",children:e.jsx(re,{})})}})]})]}),e.jsx(le,{children:e.jsxs(ce,{children:[e.jsx(oe,{children:e.jsxs(L,{children:[e.jsx(s,{children:"#"}),e.jsx(s,{}),e.jsx(s,{children:"Tên đối tác"}),e.jsx(s,{children:"Email/SĐT liên hệ"}),e.jsx(s,{children:"Số hợp đồng"}),e.jsx(s,{children:"Lĩnh vực"}),e.jsx(s,{children:"Số bot sở hữu"}),e.jsx(s,{children:"Trạng thái tài khoản"}),e.jsx(s,{children:"Ngày tạo"}),e.jsx(s,{align:"center",children:"Hành động"})]})}),e.jsx(de,{children:G.map((t,d)=>e.jsxs(L,{hover:!0,selected:k(t.id),children:[e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:e.jsx(D,{onClick:o=>F(o,t.id),checked:k(t.id)})})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:d+1})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:t.name})}),e.jsx(s,{children:e.jsxs(c,{noWrap:!0,variant:"subtitle2",children:[e.jsx("div",{children:t.email}),e.jsx("div",{children:t.phoneNumber})]})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:t.contractNumber})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:t.field})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:t.botCount})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:Ie(t.accountStatus)})}),e.jsx(s,{children:e.jsx(c,{noWrap:!0,variant:"subtitle2",children:t.creationDate})}),e.jsx(s,{align:"center",children:e.jsxs(c,{noWrap:!0,children:[e.jsx(Le,{}),e.jsx(we,{})]})})]},t.id))})]})})]})},We=[{id:1,name:"Đối tác A",email:"partnerA@example.com",phoneNumber:"0123456789",contractNumber:"CON-001",field:"Lĩnh vực A",botCount:3,accountStatus:"init",creationDate:"2024-06-01"},{id:2,name:"Đối tác B",email:"partnerB@example.com",phoneNumber:"0123456789",contractNumber:"CON-002",field:"Lĩnh vực B",botCount:5,accountStatus:"pending",creationDate:"2024-05-20"},{id:3,name:"Đối tác C",email:"partnerC@example.com",phoneNumber:"0123456789",contractNumber:"CON-003",field:"Lĩnh vực C",botCount:2,accountStatus:"approved",creationDate:"2024-06-03"},{id:4,name:"Đối tác D",email:"partnerD@example.com",phoneNumber:"0123456789",contractNumber:"CON-004",field:"Lĩnh vực D",botCount:7,accountStatus:"embedded",creationDate:"2024-06-03"},{id:5,name:"Đối tác E",email:"partnerE@example.com",phoneNumber:"0123456789",contractNumber:"CON-005",field:"Lĩnh vực E",botCount:1,accountStatus:"locked",creationDate:"2024-06-03"}],Pe=()=>{const a=b(),{t:r}=v(),i=he();ue();const[m,n]=h.useState([]);h.useState(!1);const u=h.useCallback(async()=>{try{const l=await xe.getBots({pageNumber:0,pageSize:20});i()&&n(l)}catch(l){console.error(l)}},[i]);return h.useEffect(()=>{u()},[u]),e.jsx(e.Fragment,{children:e.jsx(j,{px:{xs:2,sm:3},pt:{xs:2,sm:3},component:"main",flex:1,display:"flex",flexDirection:"column",children:e.jsxs(me,{disableGutters:!0,maxWidth:"xl",children:[e.jsx(j,{pb:{xs:2,sm:3},children:e.jsx(pe,{sx:{px:0},title:r("Đối tác"),description:r("Quản lý đối tác"),iconBox:e.jsx(je,{isSoft:!0,variant:"rounded",state:"primary",sx:{height:a.spacing(7),width:a.spacing(7),svg:{height:a.spacing(4),width:a.spacing(4),minWidth:a.spacing(4)}},children:e.jsx(ve,{})})})}),e.jsx(Ne,{partners:We})]})})})};export{Pe as default};
