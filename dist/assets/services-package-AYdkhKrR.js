import{bf as z,b7 as U,bg as ee,r as d,j as e,bh as te,bi as u,u as G,h as re,K as ne,l as ae,aL as se,aM as ie,B as M,T as s,D as O,S as N,aP as oe,G as m,aN as p,p as b,aO as W,aR as R,H as $,bj as le,bk as L,aQ as ce,b as E,t as de,y as ue,a as X,Q as _,E as H,bl as ge,J as xe,aG as Q,g as pe,c as je,R as fe,X as ve,q as Y,Y as be,Z as ye,a4 as ke,a5 as Ce,a6 as De,a7 as Z,a8 as h,a9 as We,bm as Pe,ac as Se,aS as we,ag as Te,al as Fe,am as Ie,C as Be,P as Me,an as Ne,A as qe,bn as Ee}from"./index-xIXTO1Ty.js";import{D as Ae}from"./DeleteRounded-u4fcDm7f.js";class ze{getPackageBases({pageNumber:a,pageSize:l}){return z(`http://52.221.236.203:8088/product/api/v1/package-base?&pageNumber=${a}&pageSize=${l}`)}getPackageBase({packageBaseId:a}){return z(`http://52.221.236.203:8088/product/api/v1/package-base/detail/${a}`)}async createPackageBase(a){return await U("http://52.221.236.203:8088/product/api/v1/package-base",a)}async updatePackageBase(a){return await ee("http://52.221.236.203:8088/product/api/v1/package-base",a)}}const K=new ze;class Oe{getModels(){return z("http://52.221.236.203:8088/product/api/v1/model-chat")}}const he=new Oe;class Re{getPeriods({pageNumber:a,pageSize:l}){return z(`http://52.221.236.203:8088/product/api/v1/period?&pageNumber=${a}&pageSize=${l}`)}getPeriod({periodId:a}){return z(`http://52.221.236.203:8088/product/api/v1/period/detail/${a}`)}async createPeriod(a){return await U("http://52.221.236.203:8088/product/api/v1/period",a)}async updatePeriod(a){return await ee("http://52.221.236.203:8088/product/api/v1/period",a)}}const me=new Re,$e=d.forwardRef(function(a,l){return e.jsx(te,{direction:"down",ref:l,...a})}),Le=u.object({pkgName:u.string().min(1,"Tên gói là bắt buộc").max(500,"Tên gói tối đa 500 ký tự"),pkgDescription:u.string(),amount:u.coerce.number().positive("Phí dịch vụ phải là số nguyên dương").max(1e12,"Phí dịch vụ tối đa 1 triệu tỷ"),request:u.coerce.number().positive("Số lượng request phải là số nguyên dương").max(1e12,"Số lượng request tối đa 1 triệu tỷ"),modelChatId:u.coerce.number().min(1,"Chat model là bắt buộc"),maxToken:u.coerce.number().positive("Số lượng token tối đa phải là số nguyên dương"),periodId:u.coerce.number().min(1,"Chu kì là bắt buộc"),fromDate:u.string().min(1,"Ngày bắt đầu là bắt buộc")}),He=({open:i,onClose:a,onUpdate:l})=>{const j=G(),y=re(),k=ne(j.breakpoints.up("md")),[f,C]=d.useState(null),[P,q]=d.useState([]),[c,T]=d.useState([]),{control:g,handleSubmit:S,reset:x,setValue:F,formState:{errors:v}}=ae({resolver:de(Le),defaultValues:{pkgName:"",pkgDescription:"",amount:"",request:"",modelChatId:"",maxToken:"",periodId:"",fromDate:""}}),I=async()=>{try{const o=await me.getPeriods({pageNumber:0,pageSize:10});q(o.content.map(n=>({value:n.id,label:n.name})))}catch(o){console.error("Error fetching periods:",o)}},B=async()=>{try{const o=await he.getModels();T(o.map(n=>({value:n.id,label:n.name})))}catch(o){console.error("Error fetching models:",o)}};d.useEffect(()=>{i&&(I(),B(),x(),C(null))},[i]);const D=async o=>{console.log(o);try{y(ue(!0));const n=await K.createPackageBase(o);l==null||l(o),x(),C(null),a()}catch(n){console.error("Error creating package:",n)}},w=o=>{console.log("Selected model:",o.target.value),F("modelChatId",o.target.value)},A=o=>{console.log("Selected period:",o.target.value),F("periodId",o.target.value)};return e.jsxs(se,{onClose:()=>{x(),a()},open:i,TransitionComponent:$e,fullScreen:!k,scroll:"paper","aria-labelledby":"basic-dialog-title",maxWidth:"lg",fullWidth:!0,children:[e.jsx(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx(M,{children:e.jsx(s,{variant:"h4",fontWeight:600,children:"Tạo gói dịch vụ mới"})})}),e.jsx(O,{}),e.jsx(N,{spacing:0,direction:"row",height:"100%",overflow:"hidden",children:e.jsx(oe,{sx:{overflowX:"hidden",p:3},children:e.jsx(N,{spacing:{xs:2,sm:3},children:e.jsx(M,{children:e.jsxs(m,{container:!0,spacing:{xs:2,md:3},children:[e.jsx(m,{item:!0,xs:12,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"pkgName-input",fontWeight:500,children:"Tên gói"}),e.jsx(b,{name:"pkgName",control:g,render:({field:o,fieldState:n})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...o,id:"pkgName-input",fullWidth:!0}),n.error&&e.jsx(s,{color:"error",children:n.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"pkgDescription-input",fontWeight:500,children:"Mô tả gói dịch vụ"}),e.jsx(b,{name:"pkgDescription",control:g,render:({field:o,fieldState:n})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...o,id:"pkgDescription-input",multiline:!0,maxRows:6,minRows:2,fullWidth:!0}),n.error&&e.jsx(s,{color:"error",children:n.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"amount-input",fontWeight:500,children:"Phí dịch vụ"}),e.jsx(b,{name:"amount",control:g,render:({field:o,fieldState:n})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...o,id:"amount-input",fullWidth:!0}),n.error&&e.jsx(s,{color:"error",children:n.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"request-input",fontWeight:500,children:"Số lượng request"}),e.jsx(b,{name:"request",control:g,render:({field:o,fieldState:n})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...o,id:"request-input",fullWidth:!0}),n.error&&e.jsx(s,{color:"error",children:n.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"modelChatId-select",fontWeight:500,children:"Chat model"}),e.jsx(b,{name:"modelChatId",control:g,render:({field:o})=>e.jsx(R,{...o,id:"modelChatId-select",fullWidth:!0,onChange:n=>{o.onChange(n),w(n)},children:c.map(n=>e.jsx($,{value:n.value,children:n.label},n.value))})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"maxToken-input",fontWeight:500,children:"Số lượng token tối đa"}),e.jsx(b,{name:"maxToken",control:g,render:({field:o,fieldState:n})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...o,id:"maxToken-input",fullWidth:!0}),n.error&&e.jsx(s,{color:"error",children:n.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"periodId-select",fontWeight:500,children:"Chu kì"}),e.jsx(b,{name:"periodId",control:g,render:({field:o})=>e.jsx(R,{...o,id:"periodId-select",fullWidth:!0,onChange:n=>{o.onChange(n),A(n)},children:P.map(n=>e.jsx($,{value:n.value,children:n.label},n.value))})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"fromDate-input",fontWeight:500,children:"Ngày bắt đầu"}),e.jsx(b,{name:"fromDate",control:g,render:({field:o})=>e.jsxs(e.Fragment,{children:[e.jsx(le,{...o,format:"dd-MM-yyyy",value:f,onChange:n=>{C(n),F("fromDate",n?L(n,"dd/MM/yyyy"):"")},renderInput:n=>e.jsx(W,{...n,id:"fromDate-input",fullWidth:!0,error:!!v.fromDate})}),v.fromDate&&e.jsx(s,{color:"error",children:v.fromDate.message})]})})]})})]})})})})}),e.jsx(O,{}),e.jsx(ce,{sx:{flexDirection:{xs:"column-reverse",sm:"row"},"& > :not(:first-of-type)":{marginLeft:{xs:0,sm:j.spacing(1)},marginBottom:{xs:j.spacing(1),sm:0}}},children:e.jsxs(N,{direction:"row",justifyContent:"flex-end",spacing:1,children:[e.jsx(E,{color:"secondary",onClick:()=>{x(),a()},children:"Hủy"}),e.jsx(E,{variant:"contained",onClick:S(D),children:"Lưu"})]})})]})},Ve=d.forwardRef(function(a,l){return e.jsx(te,{direction:"down",ref:l,...a})}),Qe=u.object({pkgId:u.string(),pkgName:u.string().min(1,"Tên gói là bắt buộc").max(500,"Tên gói tối đa 500 ký tự"),pkgDescription:u.string(),amount:u.coerce.number().positive("Phí dịch vụ phải là số nguyên dương").max(1e12,"Phí dịch vụ tối đa 1 triệu tỷ"),request:u.coerce.number().positive("Số lượng request phải là số nguyên dương").max(1e12,"Số lượng request tối đa 1 triệu tỷ"),modelChatId:u.coerce.number().min(1,"Chat model là bắt buộc"),maxToken:u.coerce.number().positive("Số lượng token tối đa phải là số nguyên dương"),periodId:u.coerce.number().min(1,"Chu kì là bắt buộc"),fromDate:u.string().min(1,"Ngày bắt đầu là bắt buộc")}),_e=({selectedItem:i,onUpdate:a})=>{const l=G(),j=re(),{t:y}=X(),[k,f]=d.useState(!1),C=ne(l.breakpoints.up("md")),[P,q]=d.useState([]),[c,T]=d.useState([]),[g,S]=d.useState(null),{control:x,handleSubmit:F,reset:v,setValue:I,formState:{errors:B}}=ae({resolver:de(Qe),defaultValues:{pkgId:"",pkgName:"",pkgDescription:"",amount:"",request:"",modelChatId:"",maxToken:"",periodId:"",fromDate:""}}),D=async()=>{try{const t=await me.getPeriods({pageNumber:0,pageSize:50});q(t.content.map(r=>({value:r.id,label:r.name})))}catch(t){console.error("Error fetching periods:",t)}},w=async()=>{try{const t=await he.getModels();T(t.map(r=>({value:r.id,label:r.name})))}catch(t){console.error("Error fetching models:",t)}};d.useEffect(()=>{k&&(D(),w(),i?(v({pkgId:i.pkgId,pkgName:i.pkgName,pkgDescription:i.pkgDescription,amount:i.amount,request:i.request,modelChatId:i.modelChatId,maxToken:i.maxToken,periodId:i.periodId,fromDate:i.fromDate?L(new Date(i.fromDate),"dd/MM/yyyy"):""}),S(i.fromDate?new Date(i.fromDate):null)):(S(null),v()))},[k,i,v]);const A=async t=>{console.log("Submitted Data:",t);try{j(ue(!0));const r=await K.updatePackageBase(t);await(a==null?void 0:a(t)),v(),S(null),f(!1)}catch(r){console.error("Error updating package:",r)}},o=t=>{console.log("Selected model:",t.target.value),I("modelChatId",t.target.value)},n=t=>{console.log("Selected period:",t.target.value),I("periodId",t.target.value)};return e.jsxs(e.Fragment,{children:[e.jsx(_,{title:y("Sửa"),arrow:!0,children:e.jsx(H,{color:"primary",onClick:()=>f(!0),children:e.jsx(ge,{fontSize:"small"})})}),e.jsxs(se,{onClose:()=>{v(),f(!1)},open:k,TransitionComponent:Ve,fullScreen:!C,scroll:"paper","aria-labelledby":"update-dialog-title",maxWidth:"lg",fullWidth:!0,children:[e.jsx(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx(M,{children:e.jsx(s,{variant:"h4",fontWeight:600,children:"Cập nhật gói dịch vụ"})})}),e.jsx(O,{}),e.jsx(N,{spacing:0,direction:"row",height:"100%",overflow:"hidden",children:e.jsx(oe,{sx:{overflowX:"hidden",p:3},children:e.jsx(N,{spacing:{xs:2,sm:3},children:e.jsx(M,{children:e.jsxs(m,{container:!0,spacing:{xs:2,md:3},children:[e.jsx(m,{item:!0,xs:12,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"pkgName-input",fontWeight:500,children:"Tên gói"}),e.jsx(b,{name:"pkgName",control:x,render:({field:t,fieldState:r})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...t,id:"pkgName-input",fullWidth:!0}),r.error&&e.jsx(s,{color:"error",children:r.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"pkgDescription-input",fontWeight:500,children:"Mô tả gói dịch vụ"}),e.jsx(b,{name:"pkgDescription",control:x,render:({field:t,fieldState:r})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...t,id:"pkgDescription-input",multiline:!0,maxRows:6,minRows:2,fullWidth:!0}),r.error&&e.jsx(s,{color:"error",children:r.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"amount-input",fontWeight:500,children:"Phí dịch vụ"}),e.jsx(b,{name:"amount",control:x,render:({field:t,fieldState:r})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...t,id:"amount-input",fullWidth:!0}),r.error&&e.jsx(s,{color:"error",children:r.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"request-input",fontWeight:500,children:"Số lượng request"}),e.jsx(b,{name:"request",control:x,render:({field:t,fieldState:r})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...t,id:"request-input",fullWidth:!0}),r.error&&e.jsx(s,{color:"error",children:r.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"modelChatId-select",fontWeight:500,children:"Chat model"}),e.jsx(b,{name:"modelChatId",control:x,render:({field:t})=>e.jsx(R,{...t,id:"modelChatId-select",fullWidth:!0,onChange:r=>{t.onChange(r),o(r)},children:c.map(r=>e.jsx($,{value:r.value,children:r.label},r.value))})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"maxToken-input",fontWeight:500,children:"Số lượng token tối đa"}),e.jsx(b,{name:"maxToken",control:x,render:({field:t,fieldState:r})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{...t,id:"maxToken-input",fullWidth:!0}),r.error&&e.jsx(s,{color:"error",children:r.error.message})]})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"periodId-select",fontWeight:500,children:"Chu kì"}),e.jsx(b,{name:"periodId",control:x,render:({field:t})=>e.jsx(R,{...t,id:"periodId-select",fullWidth:!0,onChange:r=>{t.onChange(r),n(r)},children:P.map(r=>e.jsx($,{value:r.value,children:r.label},r.value))})})]})}),e.jsx(m,{item:!0,xs:12,md:6,children:e.jsxs(p,{fullWidth:!0,variant:"outlined",children:[e.jsx(s,{variant:"h6",gutterBottom:!0,component:"label",htmlFor:"fromDate-input",fontWeight:500,children:"Ngày bắt đầu"}),e.jsx(b,{name:"fromDate",control:x,render:({field:t})=>e.jsxs(e.Fragment,{children:[e.jsx(le,{...t,format:"dd-MM-yyyy",value:g,onChange:r=>{S(r),I("fromDate",r?L(r,"dd/MM/yyyy"):"")},renderInput:r=>e.jsx(W,{...r,id:"fromDate-input",fullWidth:!0,error:!!B.fromDate})}),B.fromDate&&e.jsx(s,{color:"error",children:B.fromDate.message})]})})]})})]})})})})}),e.jsx(O,{}),e.jsx(ce,{sx:{flexDirection:{xs:"column-reverse",sm:"row"},"& > :not(:first-of-type)":{marginLeft:{xs:0,sm:l.spacing(1)},marginBottom:{xs:l.spacing(1),sm:0}}},children:e.jsxs(N,{direction:"row",justifyContent:"flex-end",spacing:1,children:[e.jsx(E,{color:"secondary",onClick:()=>{v(),f(!1)},children:"Hủy"}),e.jsx(E,{variant:"contained",onClick:F(A),children:"Lưu"})]})})]})]})},Ge=xe(E)(({theme:i,color:a})=>{const l=a?i.palette[a].main:i.palette.primary.main;return{backgroundColor:Q(l,.08),color:l,"&:hover":{backgroundColor:Q(l,.12),color:l},"&:disabled":{backgroundColor:Q(i.palette.action.disabledBackground,.3)}}}),Xe=(i,a,l)=>i.filter(j=>{let y=!0;if(a){const k=["pkgName","pkgDescription"];let f=!1;k.forEach(C=>{j[C].toLowerCase().includes(a.toLowerCase())&&(f=!0)}),f||(y=!1)}return Object.keys(l).forEach(k=>{const f=l[k];f&&j[k]!==f&&(y=!1)}),y}),Ke=(i,a,l)=>i.slice(a*l,a*l+l),J=({loading:i,error:a,page:l,limit:j,packages:y,onPageChange:k,onRowsPerPageChange:f,onUpdate:C})=>{const[P,q]=d.useState([]),{t:c}=X(),[T,g]=d.useState(""),[S,x]=d.useState({status:null}),F=[{id:"all",name:"Tất cả"},{id:"active",name:"Hoạt động"},{id:"inactive",name:"Không hoạt động"},{id:"deleted",name:"Đã xóa"}],v=t=>{t.persist(),g(t.target.value)},I=t=>{let r=null;t.target.value!=="all"&&(r=t.target.value),x(V=>({...V,status:r}))},B=t=>{q(t.target.checked?y.map(r=>r.pkgId):[])},D=Xe(y,T,S),w=Ke(D,l,j),A=P.length>0,o=P.length>0&&P.length<y.length,n=P.length===y.length;return i?e.jsx(s,{children:c("Loading...")}):a?e.jsx(s,{children:c("Error fetching packages")}):e.jsx(e.Fragment,{children:e.jsxs(je,{children:[e.jsxs(M,{py:2,pl:1,pr:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(N,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(fe,{checked:n,indeterminate:o,onChange:B,disabled:w.length===0}),A?e.jsx(Ge,{color:"error",variant:"contained",size:"small",startIcon:e.jsx(Ae,{}),children:"Delete selected"}):e.jsx(e.Fragment,{children:e.jsxs(M,{children:[e.jsxs(s,{sx:{display:{xs:"none",md:"inline-flex"}},component:"span",variant:"subtitle1",children:[c("Hiển thị"),":"]})," ",e.jsx("b",{children:w.length})," ",e.jsx("b",{children:c("gói")})]})})]}),e.jsxs(N,{direction:"row",spacing:1,children:[e.jsx(p,{size:"small",variant:"outlined",children:e.jsx(R,{value:S.status||"all",onChange:I,label:"",children:F.map(t=>e.jsx($,{value:t.id,children:t.name},t.id))})}),e.jsx(ve,{size:"small",InputProps:{startAdornment:e.jsx(Y,{position:"start",children:e.jsx(be,{})}),endAdornment:T&&e.jsx(Y,{sx:{mr:-.7},position:"end",children:e.jsx(H,{color:"error","aria-label":"clear input",onClick:()=>g(""),edge:"end",size:"small",sx:{color:"error.main"},children:e.jsx(ye,{fontSize:"small"})})})},margin:"none",onChange:v,placeholder:c("Tên gói hoặc Mã gói"),value:T,variant:"outlined"})]})]}),e.jsx(O,{}),w.length===0?e.jsx(s,{sx:{py:{xs:2,sm:3,md:6,lg:10}},variant:"h3",color:"text.secondary",fontWeight:500,align:"center",children:c("We couldn't find any packages matching your search criteria")}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{children:e.jsxs(Ce,{children:[e.jsx(De,{children:e.jsxs(Z,{children:[e.jsx(h,{children:c("STT")}),e.jsx(h,{children:c("Tên gói")}),e.jsx(h,{children:c("Mã gói")}),e.jsx(h,{children:c("Phí dịch vụ (VNĐ)")}),e.jsx(h,{children:c("Số lượng sử dụng")}),e.jsx(h,{children:c("Hạn đăng ký")}),e.jsx(h,{children:c("Trạng thái")}),e.jsx(h,{children:c("Ngày tạo")}),e.jsx(h,{align:"center",children:c("Hành động")})]})}),e.jsx(We,{children:w.map((t,r)=>{const V=P.includes(t.pkgId);return e.jsxs(Z,{hover:!0,selected:V,children:[e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:r+1})}),e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:t.pkgName})}),e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:t.pkgDescription})}),e.jsx(h,{children:e.jsx(s,{variant:"h6",fontWeight:600,children:Pe(t.amount).format("0,0")})}),e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:t.request})}),e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:L(new Date(t.endDate),"dd/MM/yyyy")})}),e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:t.status==="ACTIVE"?"Hoạt động":t.status==="INACTIVE"?"Không hoạt động":"Đã xóa"})}),e.jsx(h,{children:e.jsx(s,{noWrap:!0,variant:"subtitle2",children:L(new Date(t.createDate),"dd/MM/yyyy")})}),e.jsx(h,{align:"center",children:e.jsxs(s,{noWrap:!0,children:[e.jsx(_,{title:c("Chuyển trạng thái"),arrow:!0,children:e.jsx(H,{color:"primary",disabled:t.status!=="ACTIVE",onClick:()=>console.log("Sửa",t.pkgId),children:e.jsx(Se,{defaultChecked:!0,id:"switch-spatial-audio"})})}),e.jsx(_e,{selectedItem:t,onUpdate:C}),e.jsx(_,{title:c("Xóa"),arrow:!0,children:e.jsx(H,{color:"error",onClick:()=>console.log("Xóa",t),children:e.jsx(we,{fontSize:"small"})})})]})})]},t.pkgId)})})]})}),e.jsx(M,{p:2,sx:{".MuiTablePagination-select":{py:.55}},children:e.jsx(Te,{component:"div",count:D.length,onPageChange:k,onRowsPerPageChange:f,page:l,rowsPerPage:j,labelRowsPerPage:"Số hàng mỗi trang",rowsPerPageOptions:[6,9,15],slotProps:{select:{variant:"outlined",size:"small",sx:{p:0}}}})})]})]})})};J.propTypes={packages:pe.array};J.defaultProps={packages:[]};const Ze=()=>{const i=G(),{t:a}=X();Fe(),Ie();const[l,j]=d.useState(!1),[y,k]=d.useState([]),[f,C]=d.useState(!0),[P,q]=d.useState(null),[c,T]=d.useState(0),[g,S]=d.useState(6),x=()=>{j(!0)},F=()=>{j(!1)},v=async()=>{try{C(!0);const D=await K.getPackageBases({pageNumber:c,pageSize:g});k(D.content),C(!1)}catch(D){q(D),C(!1)}};d.useEffect(()=>{v()},[c,g]);const I=(D,w)=>{T(w)},B=D=>{S(parseInt(D.target.value))};return e.jsxs(e.Fragment,{children:[e.jsx(M,{px:{xs:2,sm:3},pt:{xs:2,sm:3},component:"main",flex:1,display:"flex",flexDirection:"column",children:e.jsxs(Be,{disableGutters:!0,maxWidth:"xl",children:[e.jsx(M,{pb:{xs:2,sm:3},children:e.jsx(Me,{sx:{px:0},title:a("Gói dịch vụ"),description:a("Quản lý gói dịch vụ"),actions:e.jsx(e.Fragment,{children:e.jsx(E,{sx:{mt:{xs:2,md:0}},variant:"contained",onClick:x,startIcon:e.jsx(Ne,{fontSize:"small"}),children:a("Tạo gói dịch vụ")})}),iconBox:e.jsx(qe,{isSoft:!0,variant:"rounded",state:"primary",sx:{height:i.spacing(7),width:i.spacing(7),svg:{height:i.spacing(4),width:i.spacing(4),minWidth:i.spacing(4)}},children:e.jsx(Ee,{})})})}),e.jsx(J,{packages:y,loading:f,error:P,page:c,limit:g,onPageChange:I,onRowsPerPageChange:B,onUpdate:v})]})}),e.jsx(He,{open:l,onClose:F,onUpdate:v})]})};export{Ze as default};
